import javafx.application.Application;
import javafx.stage.Stage;
import javafx.geometry.*;
import javafx.scene.*;
import javafx.scene.control.Button;
import javafx.scene.image.*;
import javafx.scene.layout.*;
import javafx.scene.text.Text;
import javafx.geometry.Rectangle2D;
import javafx.scene.paint.Color;
import javafx.animation.*;
import javafx.util.Duration;


public class Proyect_Memory extends Application {
  protected Text text = new Text(50, 50, "CS 1302");
  
  int count = 1;
  Object source = new Object();
  
  protected BorderPane getPane() {
  
  // Bottoms block
    HBox paneForButtons = new HBox(20);
    
    Button btHome = new Button("Home", new ImageView("image/home.png"));
    Button btAuthor1 = new Button("Author1", new ImageView("image/author1.png"));
    Button btAuthor2 = new Button("Author2", new ImageView("image/author2.png"));
    Button btGame = new Button("Game", new ImageView("image/game.png"));
    
    paneForButtons.getChildren().addAll(btHome, btAuthor1, btAuthor2, btGame);
    paneForButtons.setAlignment(Pos.CENTER);

    // Game block
    GridPane gamePane = new GridPane();
    gamePane.setAlignment(Pos.CENTER);
    gamePane.setPadding(new Insets(11.5, 12.5, 13.5, 14.5));
    gamePane.setHgap(5.5);
    gamePane.setVgap(5.5);

   //ImageView testing cards
    ImageView C00f = new ImageView(new Image("image/us.gif"));
    gamePane.add((C00f), 0, 0);
    ImageView C00b = new ImageView(new Image("image/uk.gif"));
    gamePane.add((C00b), 0, 0);

    //testing grid
    gamePane.add(new ImageView(new Image("image/us.gif")), 1, 0);
    gamePane.add(new ImageView(new Image("image/us.gif")), 0, 1); 
    gamePane.add(new ImageView(new Image("image/us.gif")), 1, 1);
    gamePane.add(new ImageView(new Image("image/us.gif")), 0, 2);
    gamePane.add(new ImageView(new Image("image/us.gif")), 1, 2);
    
    //testing click action
    C00b.setOnMouseClicked(e -> { 
    if(count !=2){
      Fade((ImageView)e.getSource(), 1.0, 0);
      count++;
      source = e.getSource();
      }
    else {
      Fade((ImageView)e.getSource(), 0, 1.0);
      count = 1;
    }
    });
      
      //testing home pane
    HBox hBox1 = new HBox(15); 
    hBox1.setPadding(new Insets(50, 100, 50, 100)); // Bind
    hBox1.setStyle("-fx-background-color: black");
    ImageView imageView = new ImageView(new Image("image/us.gif"));
    hBox1.getChildren().add(imageView);

   //Positions on Border pane
    BorderPane pane = new BorderPane();
    Pane paneForText = new Pane();
    paneForText.getChildren().add(text);
    pane.setTop(paneForText);
    
    pane.setCenter(paneForButtons);

    pane.setBottom(gamePane);

   //Bottoms actions
    btHome.setOnAction(e -> pane.setBottom(hBox1));
    btGame.setOnAction(e -> pane.setBottom(gamePane));
    
    return pane;
  }
  
      // Method to fade cards
     protected void Fade (ImageView imView, double to, double from){
     FadeTransition ft = new FadeTransition(Duration.millis(3000), imView);
     ft.setFromValue(from);
     ft.setToValue(to);
     ft.setCycleCount(1);
     ft.setAutoReverse(true);
     ft.play();
     }
  
  @Override // Override the start method in the Application class
  public void start(Stage primaryStage) {
    // Create a scene and place it in the stage
    Scene scene = new Scene(getPane(), 800, 400);
    primaryStage.setTitle("ButtonDemo"); // Set the stage title
    primaryStage.setScene(scene); // Place the scene in the stage
    primaryStage.show(); // Display the stage
  }

  /**
   * The main method is only needed for the IDE with limited
   * JavaFX support. Not needed for running from the command line.
   */
  public static void main(String[] args) {
    launch(args);
  }
}
